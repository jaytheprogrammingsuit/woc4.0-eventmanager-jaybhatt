<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Event Registration</title>
</head>

<body>
    <!-- Include header -->
    {% include "header.html" %}

    {% for msg in messages %}
    <script> alert('{{msg}}'); </script>
    {% endfor %}

    <div class="container my-5 py-5">

        <form action='eventRegistration' method="post" class="row g-3">
            {% csrf_token %}
            <div class="col-16">
                <label for="inputName" class="form-label">Event Name</label>
                <input type="text" name="ename" class="form-control" id="inputName" required />
            </div>
            <div class="col-16">
                <label for="floatingTextarea2" class="form-label">Description of the event</label>
                <textarea class="form-control" name="desc" id="floatingTextarea2" style="height: 100px" required></textarea>
            </div>
            <div class="col-16">
                <label for="inputName" class="form-label">Poster Link</label>
                <input type="text" class="form-control" name="plink" id="inputName" required />
            </div>
            <div class="col-md-6">
                <label for="time" class="form-label">From (date/time)</label>
                <input class="form-control" name="from" type="datetime-local" required id="time1" onchange="ft_date()" />
            </div>
            <div class="col-md-6">
                <label for="time" class="form-label">To (date/time)</label>
                <input class="form-control" name="to" type="datetime-local" required id="time2" onchange="ft_date()" />
            </div>

            <div class="col-md-12">
                <label for="time" class="form-label">Registration deadline</label>
                <input class="form-control" name="deadline" type="date" id="time" required />
            </div>
            <div class="col-md-6">
                <label for="inputEmail4" class="form-label">Host Email</label>
                <input type="email" name="hemail" class="form-control" id="inputEmail4" required />
            </div>
            <div class="col-md-6">
                <label for="inputPassword4" class="form-label">Host Password</label>
                <input type="password" name="hpass" class="form-control" id="inputPassword4" required />
            </div>

            <div class="col-12 mt-4">
                <button type="submit" class="btn btn-primary">Register</button>
                <button type="reset" class="btn btn-secondary">Cancel</button>
            </div>
        </form>
    </div>

    <!-- Include Footer -->
    {% include "footer.html" %}
    <script>

        function ft_date() {
            //var today = new Date();
            var f = document.querySelector('#time1');
            var t = document.querySelector('#time2');

            /*
            f.addEventListener('change', function () {
                alert(f.value +" --- " +'{{today_date}}'+" ----- "+ today.now());
                if(f.value < '{{today_date}}')
                {
                    alert("You can't register past event !!");
                    f.value = null;
                }
            }); */

            t.addEventListener('change', function () {
                
                if (f.value > t.value) {
                    alert("To(date/time) of an event should be greater than the from(date/time) !!");
                    t.value = null;
                    t.focus();
                }
            });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>